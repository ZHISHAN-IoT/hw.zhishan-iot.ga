<!--
    @Author:wlf(at)zhishan-iot.tk
    @Description:detail page for HML_FwLib_STC89
  -->

<!DOCTYPE html>
<html lang="en">

    <!-- HEAD -->
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:url"           content="https://hw.zhishan-iot.tk/page/hml/index.html" />
        <meta property="og:type"          content="website" />
        <meta property="og:title"         content="Hardware Middle Layer (HML) - ZHISHAN-IoT" />
        <meta property="og:description"   content="HML is an open-source project that provides various lite and easy-use firmware libraries & BSPs for some widely used MCUs, such as the 8051 series and the STC89 series, or their development boards." />
        <meta property="og:image"         content="https://hw.zhishan-iot.tk/image/0007.jpg" />
		<title>HML_FwLib_STC89 - HML - ZHISHAN-IoT</title>

        <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/bootstrap-social/5.1.1/bootstrap-social.min.css" rel="stylesheet">
        <link href="/static/css/font.css" rel="stylesheet">        
        <link href="/static/css/ui-hml.css" rel="stylesheet">
        <link href="/static/css/ui-social-button.css" rel="stylesheet"> 
	</head>

    <!-- BODY -->
    <body style="margin-top:40px">

        <!-- nav -->
		<div class="container">   
			<nav class="navbar navbar-inverse navbar-fixed-top navbar-expand navbar-dark flex-column flex-md-row bd-navbar">			
				<a class="navbar-brand" href="https://zhishan-iot.tk" style="margin-left: 20px" target="_blank">ZHISHAN-IoT</a>
						
				<div class="navbar-header">
					<button type="button" class="navbar-toggle navbar-toggler-right" data-toggle="collapse" data-target="#navbarNavDropdown" aria-expanded="false" aria-controls="navbarNavDropdown" aria-label="Toggle navigation">
						<span class="sr-only">Toggle navigation</span>

						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>

				<div id="navbarNavDropdown" class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="nav-item na-link active"><a href="/page/hml/index.html">Home</a></li>
						<li class="nav-item na-link"><a href="/page/hml/index.html#page-about">About</a></li>
                        <li class="nav-item na-link"><a href="/page/hml/download.html">Download</a></li>
                        <li class="nav-item na-link"><a href="/page/hml/news.html">News</a></li>
						<li class="nav-item na-link dropdown">
							<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More</a>   
								<ul class="dropdown-menu navbar-inverse" aria-labelledby="navbarNavDropdown">
									<li><a class="dropdown-item" style="color:#9d9d9d" href ="/index.html">Hardware</a></li>
									<li><a class="dropdown-item" style="color:#9d9d9d" href ="/page/hml/index.html">Hardware - HML</a></li>
                                    <li class="divider"></li>
									<li><a class="dropdown-item" style="color:#9d9d9d" href="http://blog.zhishan-iot.tk" target="_blank">Blog</a></li>
									<li><a class="dropdown-item" style="color:#9d9d9d" href="https://bonus.zhishan-iot.tk" target="_blank">Bonus</a></li>
									<li><a class="dropdown-item" style="color:#9d9d9d" href="http://metro.zhishan-iot.tk" target="_blank">Metro</a></li>
								</ul>
						</li>
					</ul>
				</div>
				
			</nav>
		</div>

        <!-- head -->
        <div class="jumbotron jumbotron-background">
             <div class="container">
                <h1>HML</h1>
                <p class="jumbotron-content ">Hardware Middle Layer<br>
                provide a layer between hardware and originality</p><br><br>
                <a class="pull-right btn btn-md jumbotron-button" href="../index.html#page-start" role="button">get started</a>
             </div>
        </div>

        <div id="page-start" class="container">

            <!-- title -->
            <h1>HML - HML_FwLib_STC89</h1>
            <h4>A firmware library for STC89 MCUs.</h4>

            <!-- social button -->
            <div class="row">
                <div class="col-xs-12">
                    <a class="btn btn-sm btn-social-icon btn-facebook" href="javascript:shareToFacebook();" target="_blank">
                        <span class="fa fa-facebook"></span>
                    </a> 
                    <a class="btn btn-sm btn-social-icon btn-github">
                        <span class="fa fa-github"></span>
                    </a>                    
                    <a class="btn btn-sm btn-social-icon btn-google" href="javascript:shareToGooglePlus();">
                        <span class="fa fa-google"></span>
                    </a>
                    <a class="btn btn-sm btn-social-icon btn-qq" href="javascript:shareToQq();">
                        <span class="fa fa-qq"></span>
                    </a>
                    <a class="btn btn-sm btn-social-icon btn-twitter" href="javascript:shareToTwitter();">
                        <span class="fa fa-twitter"></span>
                    </a>
                    <a class="btn btn-sm btn-social-icon btn-wechat">
                        <span class="fa fa-wechat"></span>
                    </a>
                </div>
            </div>

            <!-- introduction -->
            <div>
                <div class="page-header">
                    <h2>Introduction</h2>                   
                </div>
                <p>HML_FwLib_STC89 is a firmware library for STC micro STC89 series MCUs, providing a group of functions for users to operate the on-chip resources of STC89 MCUs, including GPIO, wathchdog, ISP and UART modules. The STC89 series MCUs, backward compatible to 8051 series MCUs, is one of the most widely used MCUs series in Mainland, China. We team intend to develop a lite and easy-use firmware library that can help future developers to complete projects based on STC89 MCUs and SDCC compiler more easily and quickly.</p>
                <p>The source codes are written in C language and for SDCC compiler, i.e., it can only be compiled by SDCC. This choice is motivated by the fact that SDCC is free and highly efficient, while there are very few examples of application about SDCC on the Internet. We hope that, as one of the early attempts to develop MCU projects using SDCC, this work will make SDCC become more popular among MCU developers.</p>
            </div>
            <!-- feature -->
            <div>
                <div class="page-header">
                    <h2>Feature</h2>                   
                </div>
                <div class="row">
                    <div class="col-sm-6 col-md-4 col-lg-3 ">
                        <div class="div-feature">
                            <img src="/image/osi_standard_logo.png" style="height: 200px"></img>
                            <hr>
                            <p>The HML is an opensource project which is licensed under WTFPL2. </p>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4 col-lg-3 ">
                        <div class="div-feature">
                            <img src="/image/icon-tool.png" style="height: 200px"></img>
                            <hr>
                            <p>Base on SDCC, a lite compiler suit for various MCUs.</p>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4 col-lg-3 ">
                        <div class="div-feature">
                            <img src="/image/hml/screenshot-20180921002.jpg" style="height: 200px"></img>
                            <hr>
                            <p>More readable code, no need to care about internal registers of STC89 MCU.</p>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4 col-lg-3 ">
                        <div class="div-feature">
                            <img src="/image/hml/2018.06.05001.jpg" style="height: 200px"></img>
                            <hr>
                            <p>Fully support all on-chip resource, including ISP, wathchdog and so on.</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- basic-info table -->
            <div>
                <div class="page-header">
                    <h2>Basic information</h2>                   
                </div>
                <p>This table shows basic information of HML_FwLib_STC89.</p>
                <table class="table table-bordered table-hover table-responsive">
                    <thead>
                        <tr>
                            <th class="info">Item</th>
                            <th class="info">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Name</td>
                            <td>HML_FwLib_STC89</td>
                        </tr>
                        <tr>
                            <td>Compiler or IDE</td>
                            <td>SDCC</td>
                        </tr>
                        <tr>
                            <td>Current Version</td>
                            <td>v1.0.0</td>
                        </tr>
                        <tr>
                            <td>Download Link</td>
                            <td><a href="https://github.com/MCU-ZHISHAN-IoT/HML_FwLib_STC89" target="_blank">DOWNLOAD - HML : HML_FwLib_STC89</a></td>
                        </tr> 
                        <tr>
                            <td>License</td>
                            <td>WTFPL2</td>
                        </tr>
                        <tr>
                            <td>Program language</td>
                            <td>C</td>
                        </tr>
                        <tr>
                            <td>Target MCU</td>
                            <td>STC micro STC89 series (STC89C52RC, STC89C54RD, etc.)</td>
                        </tr>
                        <tr>
                            <td>Update date</td>
                            <td><time>2018-09-17</time></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- how to start -->
            <div>
                <div class="page-header">
                    <h2>How to start?</h2>
                </div>

                <h3 class="step-title">STEP-1 <small class="h3-secondary-text">requierd-environment and tools</small></h3>
                <p>You need some preparations before using HML_FwLib_STC89.</p>               
                <p>Before using HML_FwLib_STC89, the installation of SDCC compiler is necessary. Please refer to the support-list to download suitable version of SDCC corresponding to your operation system. In order to make sure that SDCC has been installed correctly, you can enter <kbd>sdcc --version</kbd> in terminal of Linux, or in cmd.exe of Windows. If the version information of SDCC is shown as the following figure, it means everything is Ok!</p>
                <img src="/image/hml/screenshot-20180319001.jpg" alt="screenshot-20180319001.jpg" class="img-responsive img-rounded"><br>
                <div class="panel panel-info">
                    <div class="panel-heading"><h3 class="panel-title">Note for users of Windows</h3></div>
                    <div class="panel-body">Users may need to configure environment variable of SDCC manually!</div>
                </div>
                <p>Besides, we recomand use GNU Make to help generate target file. There is a file named "Makefile" under <i>user</i> directory in advance.</p>

                <h3 class="step-title">STEP-2 <small class="h3-secondary-text">get started with HML_FwLib_STC89</small></h3>
                <p>At the beginning of this step, you need to know the file structure of HML_FwLib_STC89.</p>
                <div class="panel panel-default">
                    <div class="panel-heading"><span class="glyphicon glyphicon-folder-open" aria-hidden="true" style="margin-right: 10px"></span>File structment of HML_FwLib_STC89</div>
                    <div class="panel-body">
                        <div>
                            <p style="font-family: Consola">
                                HML_FwLib_STC89<br>
                                ├─doc<br>
                                ├─example<br>
                                ├─inc<br>
                                ├─obj<br>
                                ├─src<br>
                                └─usr<br>
                            </p>
                        </div>
                        <div>The tree shows the structment of HML_FwLib_STC89, it includes doc, example, inc, obj, src and user folders. Details about them are shown in the following form.</div>
                    </div>
                    <table class="table table-bordered table-hover table-responsive">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>doc</td>
                                <td>store releated documents about HML_FwLib_STC89</td>
                            </tr>
                            <tr>
                                <td>example</td>
                                <td>provide some example files with *.c format to help users learn about HML_FwLib_STC89</td>
                            </tr>
                            <tr>
                                <td>inc</td>
                                <td>include all header files(*.h) of HML</td>
                            </tr>
                            <tr>
                                <td>obj</td>
                                <td>store all output files, incluing *.hex,*.ihx,*.lk,*.rel and others during compiling</td>
                            </tr>
                            <tr>
                                <td>src</td>
                                <td>store all source files(*.c) of HML_FwLib_STC89</td>
                            </tr>
                            <tr>
                                <td>usr</td>
                                <td>store makefile and a source file which includes main function</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2">
                                    #Note :<br>
                                    &nbsp;*default name of the source file with main function in user folder is <i style="font-family: Consola">test.c</i><br>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <p>There are two ways to start your project with HML_FwLib_STC89, they are #QuickStart and #Custom.</p>
                <p><strong>QuickStart</strong>: you just need to modify the content of <i>test.c</i> and then enter the <kbd>make</kbd> under <i>usr</i> directory as shown in the first line of the following figure, the remain work will be completed automatically by Makefile. After the compiling is finished, the message will be shown as the following figure. </p>
                <a href="/image/hml/screenshot-20180921001.jpg"><img src="/image/hml/screenshot-20180921001.jpg" alt="screenshot-20180921001.jpg" class="img-rounded img-responsive"></a><br>
                <p><strong>Custom</strong>: If you have enough abilities or want to do more things, you can just add <i>inc</i> and <i>src</i> folders into your project and write your own makefile.</p>

                <h3 class="step-title">STEP-3 <small class="h3-secondary-text">parameters configuration</small></h3>
                <p>There are two parameters that could be modified in the head file <i>macro.h</i>. They are <code>MCU_MODEL</code>, specifying the model of the target MCU, and <code>_FRE_OSC_</code>, specifying the clock frequency of the target MCU. The supported value of these two parameters are listed on the file, and the default value of former one is <code>MCU_STC89C52RC</code>, the other is <code>11059200L.</code></p>
                <p>The conditional compilation mechanism is introduced into the source code in v1.0.0 whiched released on Sep 17th, 2018. In order to ensure the projects based on HML_FwLib_STC89 can be downloaded into the limited on-chip flash space of STC89 MCUs, the developers can modify the macro definition named <code>___COMPILE_XXX___</code> in <i>macro.h</i> to specify which piece of code should be compiled, thus to reduce the size of the HEX file. If user only use GPIO module, then user just need to enable <code>___COMPILE_GPIO___</code> macro definition in macro.h. Some macros for conditional compilation rely on others. For example, before you define the macro definition <code>___COMPILE_UART___</code>, the macros <code>___COMPILE_EXTI___</code>, <code>___COMPILE_TIM___</code> and <code>___COMPILE_TIM2___</code> should be defined, otherwise the compilation would be failed.</p>

            </div>

            <!-- developer -->
            <div>
                <div id="page-about" class="page-header">
                    <h2>Developer</h2>                    
                </div>
                <p>Thanks their works for HML_FwLib_STC89!!</p>
                <table class="table table-hover table-striped">
                    <tbody>
                        <tr>
                                <td class="member-info">Amy Chung</td>
                                <td class="member-info">Testing</td>
                                <td class="member-info">zhongliguo(at)zhishan-iot.tk</td>
                        </tr>
                        <tr>
                            <td class="member-info">Jiabin Hsu</td>
                            <td class="member-info">MCU Developer</td>
                            <td class="member-info">zsiothsu(at)zhishan-iot.tk</td>
                        </tr>
                        <tr>
                            <td class="member-info">Weilun Fong</td>
                            <td class="member-info"><b class="b-director">Director</b></td>
                            <td class="member-info">wlf(at)zhishan-iot.tk</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <!-- footer -->
        <footer class="container-fluid foot-wrap footer-wrap-plus">
            <p class="footer-content" style="text-align: center">
                Code with <span class="glyphicon glyphicon-heart" style="color:#FF0033" aria-hidden="true"></span> in <a href="https://en.wikipedia.org/wiki/Zhangzhou" style="color: #DDD"><i>Chiangchow</i></a><br>
                Copyright &copy;2018 ZHISHAN-IoT | Webmaster:<a href="mailto:webmaster@zhishan-iot.tk" style="color:#DDD">webmaster@zhishan-iot.tk</a>
            </p>
        </footer>

		<!-- script files about Bootstrap -->
        <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
        <script src="https://cdn.bootcss.com/scrollup/2.4.1/jquery.scrollUp.min.js"></script>
		<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
        <script src="/static/script/hml.js"></script>

        <script>
            $(function(){
                $.scrollUp({
                    scrollName:'scrollUp',  // element ID
                    topDistance:'300',      // distance from top element(px)
                    topSpeed:700,           // speed of returning top(ms)
                    animation:'fade',       // fade, slide, none
                    animationInSpeed:200,
                    animationOutSpeed:200,
                    scrollText:'<i class="fa fa-angle-up"></i>',     // text content
                    activeOverlay:false,
                });
                $(window).scroll(function() {
                if( $(window).scrollTop()>'300'){
                    $('#scrollUp').show();
                }else{
                    $('#scrollUp').hide();
                }
                });
            });
        </script> 

        <script>
            $(function(){
                $.scrollUp();
            });
        </script> 

        <!-- script for popover -->
        <script>
            $(document).ready(function() {
                $(function () {
                    $('[data-toggle="popover"]').popover();
                });
            }); 
        </script>
        <!-- script for tooltip -->
        <script>
            $(document).ready(function() {
                $(function () {
                    $('[data-toggle="tooltip"]').tooltip();
                });
            }); 
        </script>

    </body>

</html>